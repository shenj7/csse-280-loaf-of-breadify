<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
	<link rel="stylesheet" href="../styles/bootstrap-material-design.min.css">
	<link rel="stylesheet" href="../styles/index.css">
    <link rel="stylesheet" href="../styles/settings.css">
	<link rel="stylesheet" href="../styles/sidebar.css">
	
	<title>Loaf Of Breadify</title>
	<link rel="shortcut icon" type="image/jpg" href="../loafofbreadify.png"/>
</head>

<body>
	<!-- Content ----------------------------------------------------->

	<div id="settingsHead">
		<h1 class="card-title">Settings&nbsp&nbsp&nbsp<i class="fas fa-cog"></i></h1>
		<div id="userName" class="card settings-card">
			<div class="card-body">
				<div id="userInfo">
					<h5 id="usernameSlot" class="card-title">Not Logged In</h5>
					<button class="btn btn-outline-success" type="button">Sign Out</button>
				</div>
			</div>
		</div>
		<div id="theme" class="card settings-card">
			<div class="card-body">
			  <h5 class="card-title">Theme:</h5>
			  <button class="btn btn-outline-success" type="button" style="margin-right: 1.2rem;">Light</button>
			  <button class="btn btn-outline-success" type="button">Dark</button>
			  <!-- could use a slider -->
			</div>
		</div>
	</div>

	<div id="sidebar">
		<h1>Lo<i class="fas fa-bread-slice"></i>f of <br/>Bre<i class="fas fa-bread-slice"></i>dify</h1>
		<button id="spotifyButton" class="btn btn-raised sidebarButton">
			<i class="fab fa-spotify"></i>
			<p id="spotifyLogin">Login to Spotify</p>
		</button>
		<button id="homeButton" class="btn btn-raised sidebarButton">
			<i class="fas fa-home"></i>
			<p>Home</p>
		</button>
		<button id="settingsButton" class="btn btn-raised sidebarButton">
			<i class="fas fa-bars"></i>
			<p>Settings</p>
		</button>
		<button id="uploadButton" class="btn btn-raised sidebarButton">
			<i class="fas fa-upload"></i>
			<p>Upload Backgrounds</p>
		</button>
		<button id="fullscreenButton" class="btn btn-raised sidebarButton">
			<i class="fas fa-expand-arrows-alt"></i>
			<p>Full Screen</p>
		</button>

	</div>
	<!----------------------------------------------------------------->

	<!-- Scripts ------------------------------------------------------>
	<script src="/scripts/jquery.min.js"></script>
	<script src="/scripts/popper.js"></script>
	<script src="/scripts/bootstrap-material-design.js"></script>
	<script>$("body").bootstrapMaterialDesign();</script>
	<script src="/__/firebase/7.18.0/firebase-app.js"></script>
	<script src="/__/firebase/7.18.0/firebase-analytics.js"></script>
	<script src="/__/firebase/7.18.0/firebase-auth.js"></script>
	<script src="/__/firebase/7.18.0/firebase-firestore.js"></script>
	<script src="/__/firebase/init.js?useEmulator=true"></script>
	<script src="https://kit.fontawesome.com/4ed22949d1.js" crossorigin="anonymous"></script>
	<script src="/scripts/spotify-web-api.js"></script>
	<script src="/scripts/main.js"></script>
	<script>
        document.querySelector("#fullscreenButton").onclick = (() => {
            let elem = document.querySelector("#fsstuff");

            if (!document.fullscreenElement) {
                elem.requestFullscreen().catch(err => {
                    alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
                });
            } else {
                document.exitFullscreen();
            }
        }
        )
        let wave = new Wave();
        navigator.mediaDevices.getUserMedia({
            audio: true
        })
            .then(function (mediaStream) {
                wave.fromStream(mediaStream, "output", {
                    type: "dualbars",
                    // colors: ["red", "white", "blue"]
                    colors: ["gray", "gray", "gray"]
                });
            })
            .catch(function (err) {
                console.log(err.message)
            });

    </script>
    <script>
        window.onSpotifyWebPlaybackSDKReady = () => {
            // const token = sessionStorage.getItem("token");
            const token = 'BQDnxwF5vpcpBlsThU9VRZNuTIRYEy7TPaMwJB3X9IHB8iuTlxwYzchArP15I0jqaoFQlPZMhB3AReT6AbJz4zOgCVc2Cu4EyEgfSCVAMpSLBvtaVC9y4RGhhPI2n0PB3TCA_Z7s5W-tOwHxrSOgk3xIU2MBmGtpTwgBkHF3_NcjhfasPXWFx0A';
            const player = new Spotify.Player({
                name: 'Web Playback SDK Quick Start Player',
                getOAuthToken: cb => { cb(token); },
                volume: 0.5
            });
            player.addListener('ready', ({ device_id }) => {
                console.log('Ready with Device ID', device_id);
            });

            // Not Ready
            player.addListener('not_ready', ({ device_id }) => {
                console.log('Device ID has gone offline', device_id);
            });

            player.connect();

            document.getElementById('#fullscreenButton').onclick = function () {
                player.togglePlay();
            };
        }
        // Ready
    </script>
	<!----------------------------------------------------------------->
</body>

</html>